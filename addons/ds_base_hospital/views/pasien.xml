<?xml version='1.0' encoding='utf-8'?>
<odoo>
        <data>
          <!-- ds.pasien tree view -->
            <record id="ds_pasien_view_tree" model="ir.ui.view">
              <field name="name">ds.pasien.view.tree</field>
              <field name="model">ds.pasien</field>
              <field name="arch" type="xml">
                  <tree string="Daftar Pasien">
                      <field name="no_rm"/>
                      <field name="name"/>
                      <field name="jenis_kelamin"/>
                      <field name="tanggal_lahir"/>
                      <field name="telepon"/>
                      <field name="gol_darah"/>                      
                  </tree>
              </field>
            </record>

            <!-- ds.pasien form view -->
            <record id="ds_pasien_view_form" model="ir.ui.view">
              <field name="name">ds.pasien.view.form</field>
              <field name="model">ds.pasien</field>
              <field name="arch" type="xml">
                <form string="Pasien">

                 <!-- Header: Tombol dan Status -->
                  <header>
                        <button name="action_confirm" states="proses" type="object" string="Konfirmasi" class="oe_highlight"/>
                         <button name="action_progress" states="draft" type="object" string="Proses" class="oe_highlight"/>
                        <!-- <button name="action_cancel" string="Dibatalkan" states="done" type="object"/> -->
                        <button name="action_draft" string="Kembali ke Draft" states="done" type="object" groups="ds_base_hospital.group_hospital_opr"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirm,process,done"/>
                        <button name="action_confirm" string="Konfirmasi" type="object" states="draft"/>
                      </header>
                    </form>
                  <sheet>
                    <div class="oe_title">
                          <h1>
                              <field id="individual" widget="text" class="text-break" name="name" default_focus="1" placeholder="Rumah Sakit 001"/>
                          </h1>
                    </div>
                      <notebook>

                      <!-- Tab: Data Pribadi -->
                        <page name="Data Pasien" string="Data Pribadi Pasien">
                      <group>
                      <!-- Add your fields here -->
                      <field name="name_id"/>
                      <field name="no_rm"/>
                      <field name="jenis_kelamin" widget="radio"/>
                      <field name="tanggal_lahir"/>
                      <field name="tempat_lahir"/>
                      <field name="gol_darah"/>
                      <field name="status_perkawinan"/>

                   </group> 
                  </page>

                      <!-- Tab: Kontak -->
                        <page name="Kontak" string="Kontak Pasien">
                      <group>
                      <!-- Add your fields here -->
                      <field name="telepon"/>
                      <field name="email"/>
                      <field name="alamat"/>
                      <field name="kode_pos"/>

                        </group> 
                      </page>
                      <page name="Data Wilayah" string="Data Wilayah Pasien">
                      <group>
                        <field name="propinsi_id"/>
                        <field name="kota_id" domain="[('propinsi_id', '=', propinsi_id)]" attrs="{'invisible': [('propinsi_id', '=', False)]}"/>
                        <field name="kecamatan_id" domain="[('kota_id', '=', kota_id)]" attrs="{'invisible': [('kota_id', '=', False)]}"/>
                        <field name="desa_id" domain="[('kecamatan_id', '=', kecamatan_id)]" attrs="{'invisible': [('kecamatan_id', '=', False)]}"/>
                      </group>
                      </page>

                      <!-- Tab:Kontak Darurat -->
                      <page string="Kontak Darurat">
                  <group>
                    <field name="kontak_darurat_nama"/>
                    <field name="kontak_darurat_telepon"/>
                    <field name="kontak_darurat_hubungan"/>
                  </group>
                </page>
                
                <!-- Tab: Administrasi -->
                <page string="Administrasi">
                  <group>
                    <field name="penyedia_asuransi"/>
                    <field name="nomor_asuransi"/>
                    <field name="tanggal_registrasi"/>
                    <field name="catatan"/>
                  </group>
                </page>

                <!-- Tab Rawat Inap -->
                <page string="Rawat Inap">
                <field name="rawat_inap_ids">
                  <tree>
                    <field name="kamar_id"/>
                    <field name="tanggal_masuk"/>
                    <field name="tanggal_keluar"/>
                    <field name="rujukan"/>
                  </tree>
                </field>
              </page>

                <!-- Tab Tindakan Medis -->
                <page string="Tindakan Medis">
                  <field name="tindakan_medis_ids">
                    <tree>
                      <field name="tanggal"/>
                      <field name="dokter_id"/>
                      <field name="tindakan"/>
                    </tree>
                  </field>
                </page>

                <page string="Alergi">
                <field name="alergi_ids">
                    <tree editable="bottom">
                        <field name="name_alergi"/>
                        <field name="tingkat_keparahan"/>
                        <field name="reaksi"/>
                        <field name="catatan"/>
                    </tree>
                  </field>
                </page>
              </notebook>
            </sheet>
          </field>
        </record>


        <!-- ds.alergi.pasien tree view -->
        <record id="ds_alergi_pasien_view_tree" model="ir.ui.view">
          <field name="name">ds.alergi.pasien.view.tree</field>
          <field name="model">ds.alergi.pasien</field>
          <field name="arch" type="xml">
            <tree string="Daftar Alergi">
              <field name="pasien_id"/>
              <field name="name_alergi"/>
              <field name="tingkat_keparahan"/>
              
            </tree>
          </field>
        </record>

        <!-- ds.alergi.pasien form view -->
        <record id="ds_alergi_pasien_view_form" model="ir.ui.view">
          <field name="name">ds.alergi.pasien.view.form</field>
          <field name="model">ds.alergi.pasien</field>
          <field name="arch" type="xml">
            <form string="Alergi Pasien">
              <sheet>
                <group>
                  <field name="pasien_id"/>
                  <field name="name_alergi"/>
                  <field name="tingkat_keparahan"/>
                  <field name="reaksi"/>
                  <field name="catatan"/>
                </group>
              </sheet>
            </form>
          </field>
        </record>

        <!-- ds.kunjungan tree view -->
        <record id="ds_kunjungan_view_tree" model="ir.ui.view">
          <field name="name">ds.kunjungan.view.tree</field>
          <field name="model">ds.kunjungan</field>
          <field name="arch" type="xml">
            <tree>
              <field name="pasien_id"/>
              <field name="tanggal"/>
              <field name="poli_id"/>
              <field name="dokter_id"/>
              <field name="rujukan"/>
              
            </tree>
          </field>
        </record>

        <!-- ds.kunjungan form view -->
        <record id="ds_kunjungan_view_form" model="ir.ui.view">
          <field name="name">ds.kunjungan.view.form</field>
          <field name="model">ds.kunjungan</field>
          <field name="arch" type="xml">
            <form string="Riwayat Kunjungan">
              <sheet>
                <group>
                  <field name="pasien_id"/>
                  <field name="tanggal"/>
                  <field name="poli_id"/>
                  <field name="dokter_id"/>
                  <field name="keluhan"/>
                  <field name="diagnosis_awal"/>
                  <field name="rujukan"/>
                  
                </group>
              </sheet>
            <notebook>
              <page name="upload" string="Hasil Riwayat Kunjungan">
                  <field name="data_hasil_riwayat_kunjungan_ids">
                  <tree editable="1">
                  <field name="pasien_id"/>
                  <field name="upload_hasil_riwayat_kunjungan" widget="image"  options="{'size': [200, 200]}"/>
                  <field name="keterangan"/>
                 </tree>
                </field>
               </page>
              </notebook>
            </form>
          </field>
        </record>

        <!-- ds.poli tree view -->
        <record id="ds_poli_view_tree" model="ir.ui.view">
          <field name="name">ds.poli.view.tree</field>
          <field name="model">ds.poli</field>
          <field name="arch" type="xml">
            <tree>
                <field name="kode_poli"/>
                <field name="name"/>
                <field name="aktif"/>
              
            </tree>
          </field>
        </record>

        <!-- ds.poli form view -->
        <record id="ds_poli_view_form" model="ir.ui.view">
          <field name="name">ds.poli.view.form</field>
          <field name="model">ds.poli</field>
          <field name="arch" type="xml">
            <form string="Data Poli">
              <sheet>
                <group>
                  <field name="kode_poli"/>
                  <field name="name"/>
                  <field name="aktif"/>
                </group>
                <group>
                  <field name="deskripsi"/>
                </group>
                <notebook>
                        <page string="Dokter di Poli Ini">
                            <field name="dokter_ids">
                                <tree>
                                    <field name="name"/>
                                    <field name="spesialisasi"/>
                                    <field name="jadwal_praktek"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

        <!-- ds.poli action window -->
        <record id="ds_poli_action" model="ir.actions.act_window">
          <field name="name">Data Poli</field>
          <field name="type">ir.actions.act_window</field>
          <field name="res_model">ds.poli</field>
          <field name="view_mode">tree,form</field>
          <field name="help" type="html">
            <p class="oe_view_nocontent_create">
              <!-- Add Text Here -->
            </p><p>
              <!-- More details about what a user can do with this object will be OK --> 
            
            </p>
          </field>
        </record>        

        <!-- ds.kunjungan action window -->
        <record id="ds_kunjungan_action" model="ir.actions.act_window">
          <field name="name">Riwayat Kunjungan</field>
          <field name="type">ir.actions.act_window</field>
          <field name="res_model">ds.kunjungan</field>
          <field name="view_mode">tree,form</field>
          <field name="help" type="html">
            <p class="oe_view_nocontent_create">
              <!-- Add Text Here -->
            </p><p>
              <!-- More details about what a user can do with this object will be OK --> 
            
            </p>
          </field>
        </record>

        <!-- ds.alergi.pasien action window -->
        <record id="ds_alergi_pasien_action" model="ir.actions.act_window">
          <field name="name">Riwayat Alergi</field>
          <field name="type">ir.actions.act_window</field>
          <field name="res_model">ds.alergi.pasien</field>
          <field name="view_mode">tree,form</field>
          <field name="help" type="html">
            <p class="oe_view_nocontent_create">
              <!-- Add Text Here -->
            </p><p>
              <!-- More details about what a user can do with this object will be OK --> 
            
            </p>
          </field>
        </record>



        <!-- ds.pasien action window -->
        <record id="ds_pasien_action" model="ir.actions.act_window">
            <field name="name">Pasien</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">ds.pasien</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
              <!-- Add Text Here -->
            </p><p>
              <!-- More details about what a user can do with this object will be OK --> 
            
                </p>
            </field>
        </record>

      <menuitem id="menu_ds_data_baru_categ" name=" Data Pasien Baru dan Lama" parent="ds_pasien_menu_categ"  sequence="10"/>
        <menuitem id="menu_ds_pasien_act" name="Pendaftaran Pasien" parent="menu_ds_data_baru_categ" action="ds_pasien_action" sequence="20"/> 
        <menuitem id="menu_ds_alergi_pasien_act" name="Riwayat Alergi" parent="menu_ds_data_baru_categ" action="ds_alergi_pasien_action" sequence="40"/>
        <menuitem id="menu_ds_kunjungan_act" name="Riwayat Kunjungan" parent="menu_ds_data_baru_categ" action="ds_kunjungan_action" sequence="50"/>
        <menuitem id="menu_ds_poli_act" name="Data Poli" parent="menu_ds_data_baru_categ" action="ds_poli_action" sequence="60"/>
        <!-- <menuitem id="ds_menu_pasien_root" name="Pasien" parent="menu_ds_hospital_root" sequence="20"/> -->
        
        </data>
</odoo>